# ==============================================================================
# Jarvis-2.0 Environment Configuration
# ==============================================================================
# Copy this file to .env and fill in your values
# Do NOT commit .env to version control

# ==============================================================================
# REQUIRED: API Key
# ==============================================================================
# Get your API key from: https://aistudio.google.com/app/apikey
GEMINI_API_KEY=your_api_key_here

# ==============================================================================
# OPTIONAL: Model Settings
# ==============================================================================
# LLM provider: gemini (API) or ollama (local)
# LLM_PROVIDER=gemini

# Local LLM (Ollama) settings
# OLLAMA_BASE_URL=http://localhost:11434
# OLLAMA_MODEL=llama3.1
# LOCAL_TOOLS_ENABLED=true

# Model to use (default: gemini-2.5-flash)
# MODEL_NAME=gemini-2.5-flash

# Temperature for responses (0.0 = deterministic, 1.0 = creative)
# TEMPERATURE=0.0

# ==============================================================================
# OPTIONAL: Agent Settings
# ==============================================================================
# Maximum agent loop iterations (default: 20)
# MAX_ITERATIONS=20

# Maximum API retries on failure (default: 3)
# MAX_RETRIES=3

# Delay between retries in seconds (default: 2.0)
# RETRY_DELAY=2.0

# ==============================================================================
# OPTIONAL: File Settings
# ==============================================================================
# Maximum characters to read from files (default: 10000)
# MAX_FILE_CHARS=10000

# Default working directory (default: current directory)
# WORKING_DIRECTORY=.

# ==============================================================================
# OPTIONAL: Storage
# ==============================================================================
# Memory file location (default: .agent_memory.json)
# MEMORY_FILE=.agent_memory.json

# Conversation history directory (default: .agent_history)
# HISTORY_DIR=.agent_history

# ==============================================================================
# OPTIONAL: Debug Settings
# ==============================================================================
# Enable dry-run mode (no destructive operations)
# DRY_RUN=false

# Enable verbose logging
# VERBOSE=false

# ==============================================================================
# OPTIONAL: Telegram Bot Integration
# ==============================================================================
# Get your bot token from @BotFather on Telegram
# TELEGRAM_BOT_TOKEN=your_token_here

# Comma-separated list of authorized Telegram user IDs
# Get your ID by messaging @userinfobot on Telegram
# SECURITY: This is REQUIRED - bot will not start without it
TELEGRAM_AUTHORIZED_USERS=your_telegram_user_id

# Working directory for remote commands (sandboxed for security)
# All file operations will be restricted to this directory
JARVIS_WORKING_DIR=/Users/yourname/jarvis_workspace

# Safety mode - dry run prevents actual file/system changes (HIGHLY RECOMMENDED)
# Set to true to test commands safely before running for real
JARVIS_DRY_RUN=true

# Require confirmation for dangerous commands (HIGHLY RECOMMENDED)
# Commands like delete, install, system changes will ask for confirmation
TELEGRAM_REQUIRE_CONFIRM=true

# Rate limiting - max requests per minute per user (prevents abuse)
TELEGRAM_RATE_LIMIT_PER_MIN=30

# Immediately block any unauthorized user on first attempt
TELEGRAM_BLOCK_UNAUTHORIZED_IMMEDIATE=true

# Require local (out-of-band) approval code for dangerous actions
TELEGRAM_LOCAL_APPROVAL_REQUIRED=true
# Local approval code file path (absolute recommended)
TELEGRAM_LOCAL_APPROVAL_FILE=/Users/yourname/jarvis_workspace/.jarvis_local_approval
# Approval code time-to-live in seconds (based on file mtime)
TELEGRAM_LOCAL_APPROVAL_TTL=600

# Require local approval file before any shell_command runs
JARVIS_REQUIRE_LOCAL_SHELL_APPROVAL=true
# Optional approval file path relative to working directory
JARVIS_SHELL_APPROVAL_FILE=.jarvis_shell_approve
# Optional token required in approval file (leave blank to accept any content)
JARVIS_SHELL_APPROVAL_TOKEN=
# If true, approval file is removed after one use
JARVIS_SHELL_APPROVAL_ONCE=true

# Optional: Allowlist tools for Telegram mode (comma-separated)
# If unset, a safe default allowlist is used.
# TELEGRAM_ALLOWED_TOOLS=get_files_info,get_file_content,write_file,search_files,git_status,git_diff,git_log,calculate,datetime,notify

# Block reads of sensitive files when running Telegram bot
JARVIS_BLOCK_SENSITIVE_READS=true

# Log directory for Telegram bot
JARVIS_LOG_DIR=/path/to/jarvis/logs

# ==============================================================================
# SECURITY NOTES
# ==============================================================================
# 1. NEVER commit your .env file to version control
# 2. Keep JARVIS_DRY_RUN=true until you're confident
# 3. Use TELEGRAM_AUTHORIZED_USERS to whitelist only trusted users
# 4. Set JARVIS_WORKING_DIR to a dedicated sandbox directory
# 5. Monitor jarvis_telegram.log for suspicious activity
# 6. Bot blocks: path traversal, fork bombs, system file access
# 7. Outputs are sanitized to prevent API key leaks
